diff --git a/CMakeLists.txt b/CMakeLists.txt
index a3132063..680c909c 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -189,6 +189,7 @@ install(FILES "${CMAKE_CURRENT_BINARY_DIR}/llama.pc"
 #
 
 add_subdirectory(common)
+add_subdirectory(examples/main)
 
 if (LLAMA_BUILD_TESTS AND NOT CMAKE_JS_VERSION)
     include(CTest)
diff --git a/examples/main/main.cpp b/examples/main/main.cpp
index ef215884..22f2f90f 100644
--- a/examples/main/main.cpp
+++ b/examples/main/main.cpp
@@ -936,6 +936,9 @@ int main(int argc, char ** argv) {
         llama_state_save_file(ctx, path_session.c_str(), session_tokens.data(), session_tokens.size());
     }
 
+    printf("\n");
+    fflush(stdout);
+
     LOG_TEE("\n");
     gpt_perf_print(ctx, smpl);
     write_logfile(ctx, params, model, input_tokens, output_ss.str(), output_tokens);
